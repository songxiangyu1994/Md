# Tomcat的性能优化

[TOC]

#####本文为个人理解加整理，如有错误曲解，请多多指教，谢谢！
## 简述

​	一般来说，初学者在刚接触Tomcat这种容器的时候，因为叫做服务器嘛，可能会跟Nginx来对比，这时候，对于他们对服务器概念的理解还不深入，就会对Tomcat的性能有一定的曲解，认为Tomcat的默认并发量为200，一般文章上都说，通过简单的优化，最多并发量也就达到1000左右，而相比于Nginx动辄上万的并发量来说，就会觉得是不是Tomcat的性能不行导致的，其实不然，Nginx一般在应用中做为处理静态资源的反向代理服务器，他会处理静态的请求，将动态请求转发给Tomcat，也就是说它不会处理动态的请求，而我们写的程序，都说活在Tomcat中的。而且Tomcat和Nginx从底层原理上也不同，这个一会可以简单的说几句。
## 目的
​	通过优化Tomcat提高网站的并发能力。
## 概述
​	对于这个调优，首先是在硬件：CPU，内存，硬盘的读写性能都固定的情况下来优化的，但是这些硬件的性能，是对这个调优的结果有决定性影响的，说白了：一个并不怎么强的硬件配置，怎么调性能都上不来，并发量打了还是会凉凉，比如说，作者时常用来测试代码时当做服务器的树莓派。（笑）
## 优化配置
###配置Tomcat的管理员账号
​	可以说当我们刚刚解压出Tomcat的时候，Tomcat上是有很多文件夹的（废话！），其具体的每个文件夹的功能如下：![Tomcat的目录介绍](Tomcat的性能优化\Tomcat的目录介绍.png)
​	我们这次的重点放在webapps这个目录下：很多人都知道，这个文件夹下有一个ROOT文件夹，也就说我们经常说的根目录。其实一开始根目录下是有东西的，一般都不会被注意到罢了，使用IDEA，在Maven下创建工程的小伙伴在配置好Tomcat后，就会在运行的时候，将war包的内容放在ROOT目录，默认情况下我们访问localhost:8080就可以看到内容了，在没使用Maven创建的web工程时，我是在IDEA下编写后，在命令行使用jar命令生成war包，同样只需要在Tomcat启动之后，把war包丢进Tomcat的webapps文件夹，就会自动生成一个与war包同名的文件夹，然后访问localhost:8080/war包的名字/就可以访问了。
​	但是，原来ROOT文件夹中的东西是什么呢？不知道还记不记得这个界面：![Tomcat的ROOT目录默认内容](Tomcat的性能优化\Tomcat的ROOT目录默认内容.jpg)
​	如果我们好奇的点一下这三个按钮，就会发现：![点击三个中的一个按钮弹出的登录框](Tomcat的性能优化\点击三个中的一个按钮弹出的登录框.jpg)
​	那我们尝试下用root，root登录下，不成功，那我们就点下cancel。出现了这个界面：![点击cancel后的界面](Tomcat的性能优化\点击cancel后的界面.jpg)
​	我们来读一下这个界面的意思：

## 禁用AJP连接器
## JVM参数优化
